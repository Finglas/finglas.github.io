<!DOCTYPE html>
<html lang="english">
<head>
        <meta charset="utf-8" />
        <title>Shaun Finglas - Feature Toggles</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <link href="/feeds/posts/default.xml" type="application/atom+xml" rel="alternate" title="Shaun Finglas Atom Feed" />

        <link rel="icon" type="image/png" sizes="32x32" href="/theme/images/favicons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/theme/images/favicons/favicon-16x16.png">
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Shaun Finglas</a></h1>
 <h2>Agile software development &amp; programming - one lesson at a time.</h2>                <nav><ul>
                    <li><a href="/pages/about.html">About Me</a></li>
                    <li><a href="/pages/series.html">Series</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2015/06/feature-toggles.html" rel="bookmark"
           title="Permalink to Feature Toggles">Feature Toggles</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-06-01T00:00:00+02:00">
                Published: Mon 01 June 2015
        </abbr>

<p>tags: <a href="/tag/tutorial.html">tutorial</a> <a href="/tag/releasing.html">releasing</a> </p>
</footer><!-- /.post-info -->      <p>I'm a fan of regular releasing. My background and experience leads me to
release as regularly as possible. There are numerous benefits to regular
releases; limited risk, slicker release processes and the ability to
change as requirements evolve.</p>
<p>The problem with this concept is how can you release when features are
not functionally complete?</p>
<h4>Solution</h4>
<p>If there is still work in progress, one solution to allow frequent
releases is to use <a href="http://martinfowler.com/bliki/FeatureToggle.html">feature
toggles</a>. Feature
toggles are simple conditional statements that are either enabled or
disabled based on some condition.</p>
<script src="https://gist.github.com/Finglas/89438d0ec51aff4149d0.js"></script>

<p>This simple example shows a feature toggle for an "Edit User" feature.
If the boolean condition is false, then we only show the "New User"
feature and the "Admin" feature. This boolean value will be provided by
various means, usually a configuration file. This means at certain
points we can change this value in order to demonstrate the "Edit User"
functionality. Our demo environment could have this enabled, while the
live system would be disabled until the feature is fully complete.</p>
<p>If the feature to edit users took more than an ideal release cycle the
code could still be released. As long as all the tests and other release
checks pass there is no reason to defer this task. This is after all one
of the benefits of continuous integration. Any consumer of this code
base would always be working with up to date code, merge conflicts would
be next to non existent. Our new code would be integrated regularly.</p>
<p>Ideally feature toggles live as high as possible in the dependency graph
of your application. In most cases this would be the composition root of
the application or within UI/presentation logic. This simplifies the
addition of toggles, but you need to be careful that just because the UI
hides a feature it is not truly disabled. In scenarios where security is
a concern the feature toggles may need to live further down the stack.</p>
<p>It's best to remove feature toggles once the feature is complete
otherwise they can become a maintenance burden. Is this feature enabled
or disabled? Can we delete this code? These sort of questions can cause
legacy code to live unquestioned. One way to aid in their removal is to
add assertions to fail the build at a certain point in the future or
include a toggle with built in date/time logic.</p>
<p>Feature Toggles help with demonstrating features, but they can be more
complex. For risky features you may want to slowly ramp up the number of
users who are exposed to the feature. In this case the actual toggle may
perform some basic logic such as "<em>one out of ten requests</em>" enable the
new feature. Overtime this ratio can be increased until the feature is
fully enabled and proven.</p>
<p>Another technique to allow fast, regular releases is to rely on <a href="https://blog.shaunfinglas.co.uk/2015/06/branch-by-abstraction.html">Branch
by
Abstraction</a>.
This works great when the toggles live in the composition root or the
team have the ability to split work around features.</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="social">
                        <ul>
                            <li><a href="/feeds/posts/default.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://twitter.com/ShaunFinglas">Twitter</a></li>
                            <li><a href="https://github.com/Finglas">Github</a></li>
                            <li><a href="https://www.linkedin.com/in/shaunfinglas/">LinkedIn</a></li>
                            <li><a href="https://stackoverflow.com/users/102482/finglas">StackOverflow</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <p>Proudly powered by <a href="http://getpelican.com/">Pelican</a>. Theme based on <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>.</p>
                <p id="disclaimer">Disclaimer: The posts on this site are my own and don't necessarily represent my employers positions, strategies, or opinions.</p>
                <p>Copyright &copy; Shaun Finglas 2017</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-68423049-2', 'auto');
    ga('send', 'pageview');
    </script>
</body>
</html>