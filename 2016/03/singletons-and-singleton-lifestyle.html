<!DOCTYPE html>
<html lang="english">
<head>
        <meta charset="utf-8" />
        <title>Shaun Finglas - Singleton's and the Singleton Lifestyle</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <link href="/feeds/posts/default.xml" type="application/atom+xml" rel="alternate" title="Shaun Finglas Atom Feed" />

        <link rel="icon" type="image/png" sizes="32x32" href="/theme/images/favicons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/theme/images/favicons/favicon-16x16.png">
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Shaun Finglas</a></h1>
 <h2>Agile software development &amp; programming - one lesson at a time.</h2>                <nav><ul>
                    <li><a href="/pages/about.html">About Me</a></li>
                    <li><a href="/pages/series.html">Series</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2016/03/singletons-and-singleton-lifestyle.html" rel="bookmark"
           title="Permalink to Singleton's and the Singleton Lifestyle">Singleton's and the Singleton Lifestyle</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-04-01T00:00:00+02:00">
                Published: Fri 01 April 2016
        </abbr>

<p>tags: <a href="/tag/programming.html">programming</a> <a href="/tag/tutorial.html">tutorial</a> </p>
</footer><!-- /.post-info -->      <p><a href="http://misko.hevery.com/2008/12/15/static-methods-are-death-to-testability/">The death of testability and the lack of
isolation</a>
make the singleton pattern a relic of times gone by. Rarely have I had a
real need to code a singleton since my first year of university. Most
decisions to use a singleton boil down to scoping issues.</p>
<h4>Singleton</h4>
<p>Assume a game requires a single instance of a rendering component. In
this example configuring and initialising the renderer may be expensive.
We only want to do this once.</p>
<script src="https://gist.github.com/Finglas/931913cda1df6d3a5eb2.js"></script>

<p>While this singleton renderer solves the problem of instantiating more
than once it suffers from the fact there is only ever one instance. If
we want multiple renderers such as a console debugger we are out of
luck. Testability is also lost. If we wish to exercise the Game, we need
to provide and use a real rendering component.</p>
<h4>Static Classes</h4>
<p>Or class instances give you the same advantages and disadvantages of
singletons. You only have one instance and you can access it easily. One
big difference is that unlike singletons you cannot provide static
instances as arguments. In practice this is rarely a problem given you
have easy access to the instance anyway. You should treat static classes
as suspiciously as singletons. However static classes are not bad. <a href="https://blog.shaunfinglas.co.uk/2015/07/static-code.html">They
do have uses</a>.</p>
<script src="https://gist.github.com/Finglas/1ad58d37ba4d4d55a01b.js"></script>

<p>The renderer is now a static class. The same disadvantage as the
singleton remains. We are always stuck with a single instance.</p>
<h4>Singleton Lifestyle</h4>
<p>When using DI you need to consider lifestyle. Singleton lifestyle is one
of the most useful. Do not be confused with the Singleton pattern.
Despite the name, singleton lifestyle is purely a scoping issue.</p>
<script src="https://gist.github.com/Finglas/457a3b37b2c9cb16e960.js"></script>

<p>By adjusting the scoping of the renderer, the game can now be provided
with a single instance. Any component from the game down is unaware of
this fact, they simple interact with a rendering component. If we were
to provide a composite of rendering components the game would be
unaware. This change of scope provides the benefits of a singleton. One
area that has been lost is the lazy initialisation of the renderer which
may or may not be an issue.</p>
<p>DI does not solve all problems however. <a href="https://blog.shaunfinglas.co.uk/2016/04/dependency-injection-for-common-global.html">Sometimes dependencies are
global</a>.
The likes of date/time or logging spring to mind. In these cases
<a href="https://blog.shaunfinglas.co.uk/2016/04/dependency-injection-for-common-global.html">alternative solutions
exist</a>.</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="social">
                        <ul>
                            <li><a href="/feeds/posts/default.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://twitter.com/ShaunFinglas">Twitter</a></li>
                            <li><a href="https://github.com/Finglas">Github</a></li>
                            <li><a href="https://www.linkedin.com/in/shaunfinglas/">LinkedIn</a></li>
                            <li><a href="https://stackoverflow.com/users/102482/finglas">StackOverflow</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <p>Proudly powered by <a href="http://getpelican.com/">Pelican</a>. Theme based on <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>.</p>
                <p id="disclaimer">Disclaimer: The posts on this site are my own and don't necessarily represent my employers positions, strategies, or opinions.</p>
                <p>Copyright &copy; Shaun Finglas 2017</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-68423049-2', 'auto');
    ga('send', 'pageview');
    </script>
</body>
</html>