<!DOCTYPE html>
<html lang="english">
<head>
        <meta charset="utf-8" />
        <title>Shaun Finglas - 2017</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <link href="/feeds/posts/default.xml" type="application/atom+xml" rel="alternate" title="Shaun Finglas Atom Feed" />

        <link rel="icon" type="image/png" sizes="32x32" href="/theme/images/favicons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/theme/images/favicons/favicon-16x16.png">
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Shaun Finglas</a></h1>
 <h2>Agile software development &amp; programming - one lesson at a time.</h2>                <nav><ul>
                    <li><a href="/pages/about.html">About Me</a></li>
                    <li><a href="/pages/series.html">Series</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/2017/01/code-smell-time-span-embedded-in-variable.html">Code Smell: Time Span Embedded in Variable</a></h1>
<footer class="post-info">
        <abbr class="published" title="2017-08-08T00:00:00+02:00">
                Published: Tue 08 August 2017
        </abbr>

<p>tags: <a href="/tag/code.html">code</a> <a href="/tag/tutorial.html">tutorial</a> </p>
</footer><!-- /.post-info --><p>A common code smell that tends to go unnoticed is embedding a time span within a variable name. While developers recognize that embedding types into names is redundant they often fail to see this smell.</p>
<p>You often need a variable to trigger on a set period, such as every fifteen minutes. For example:</p>
<div class="highlight"><pre><span></span>BlogPostFeedPollingIntervalInSeconds = 900
</pre></div>


<p>In this example, what is 900? Without the variable name this is hard to reason about. This is even harder when the value is external and replaced on deployment. Often the value will be found with a comment explaining what the figure is relative to other time periods. This is another hint that you have a time span embedded into a variable.</p>
<p>This smell also becomes harder for more exotic or unfamiliar intervals. In other words most developers are familiar that 1 second in milliseconds is 1000, but not other common ranges or periods. Most standard libraries or lower level functions have fixed intervals which compound the problem. For example a data access libraries tend to use seconds as their highest unit of time, this may not be appropriate in some cases.</p>
<h2>Solution</h2>
<p>The fix for this code smell is to use time spans. The previous example can be expressed in the following form.</p>
<div class="highlight"><pre><span></span>BlogPostFeedPollingInterval = &quot;00:15:00&quot;
</pre></div>


<p>The value here is expressed in the form HH:MM:SS. Time spans can include days or levels of precision lower than a single second. Different languages may have alternative forms of specifying time spans but the principle is the same. Consult the documentation for more info. When the code reads this value the string time span will be converted. Using C# as an example:</p>
<div class="highlight"><pre><span></span>var blogPostFeedPollingInterval = TimeSpan.Parse(timeSpan);
</pre></div>


<p>The use of time spans have a variety of benefits. Notice that the variable name has had the time component removed. This allows the value to increase or decrease without needing to change the variable name.</p>
<p>Additionally time spans are human readably without the need to convert or do maths in your head.</p>
<p>Time spans also offer type safety if the underlying code is doing further work with the value. This is in stark
contrast to doing numerical work with simple integers. Another example would include the ability to use higher time periods for clarity and then simply convert to the total number of minutes/seconds when required.</p>
<p>It is worth bearing in mind that for time periods such as "12 months" or "every 3 weeks on Friday" an alternative is required. Some languages may offer this by default, others may require a third party library. This is due to the fact that a time span does not respect the calendar system. For example, over several months the number of days in each month can vary. For days, hours, minutes or seconds your standard libraries time span should be more than capable.</p>
<h4>Lessons</h4>
<ul>
<li>Don't embed time spans in variables.</li>
<li>Whenever you include a time span in a variable name consider using a time span.</li>
<li>Check the documentation for your language as time span formats can differ or be tricky to remember.</li>
<li>For periods of time (every 3 months on the 1st) time spans are not appropriate by default.</li>
<li>For business rules that must trigger on on particular dates as previously use the calendar to work this out.</li>
</ul>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="/2017/06/testing-your-composition-root.html" rel="bookmark"
                           title="Permalink to Testing your Composition Root">Testing your Composition Root</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-06-27T00:00:00+02:00">
                Published: Tue 27 June 2017
        </abbr>

<p>tags: <a href="/tag/tutorial.html">tutorial</a> <a href="/tag/testing.html">testing</a> </p>
</footer><!-- /.post-info -->                <p>Separating configuration from your code itself is a good practice. Unfortunately this can quite be
quite complex in itself. In fact it is fair to say that in many cases the use of
<a href="/2014/11/dependency-injection-di-containers.html">DI containers</a> to achieve this can be overkill
for a task that should be rather basic.</p>
<p>Recently …</p>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/2017/05/logging-vs-auditing.html" rel="bookmark"
                           title="Permalink to Logging vs Auditing">Logging vs Auditing</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-05-02T00:00:00+02:00">
                Published: Tue 02 May 2017
        </abbr>

<p>tags: <a href="/tag/summary.html">summary</a> </p>
</footer><!-- /.post-info -->                <p>The difference between logging and auditing is a subtle yet important
distinction.</p>
<h3>Logging</h3>
<ul>
<li>Technical in nature. Deals with technical concerns, stacktraces or
    errors.</li>
<li>Additional levels such as DEBUG, INFO, WARN, ERROR, FATAL for
    classification.</li>
<li>Logging can be simple such as traditional stdout statements, or more
    complex with semantic/structured logging …</li></ul>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/2017/04/the-qa-test-matrix.html" rel="bookmark"
                           title="Permalink to The QA Test Matrix">The QA Test Matrix</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-04-03T00:00:00+02:00">
                Published: Mon 03 April 2017
        </abbr>

<p>tags: <a href="/tag/testing.html">testing</a> </p>
</footer><!-- /.post-info -->                <p>Historically teams I've worked with have taken a few varying approaches
when designing tests against acceptance criteria. One is to have the
business define the feature, while the team help define the acceptance
criteria. Ultimately the business gets the final say if they agree, and
further acceptance criteria is either …</p>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/2017/01/be-humble.html" rel="bookmark"
                           title="Permalink to Be Humble">Be Humble</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-01-18T00:00:00+01:00">
                Published: Wed 18 January 2017
        </abbr>

<p>tags: <a href="/tag/retro.html">retro</a> </p>
</footer><!-- /.post-info -->                <p>Some of the best developers I know treat everyone with mutual respect.
Not only this they are open about what they do know and what they don't
know. In fact they'll often proclaim “I don't know” and go about finding
out how they can answer your question or solve a …</p>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/2017/01/convention-based-tests.html" rel="bookmark"
                           title="Permalink to Convention Based Tests">Convention Based Tests</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-01-11T00:00:00+01:00">
                Published: Wed 11 January 2017
        </abbr>

<p>tags: <a href="/tag/tutorial.html">tutorial</a> <a href="/tag/testing.html">testing</a> </p>
</footer><!-- /.post-info -->                <p>Most projects have some form of convention. Examples would include:</p>
<ul>
<li>Attributes/Properties for REST API's</li>
<li>Inheritance for third party base types</li>
<li>Assemblies/Packages for third party code that is loaded dynamically</li>
<li>Folder or namespace conventions</li>
<li>And many other forms of conventions</li>
</ul>
<p>In a few of these examples static analysis can …</p>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/2017/01/finance-for-software-developers.html" rel="bookmark"
                           title="Permalink to Finance For Software Developers">Finance For Software Developers</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-01-04T00:00:00+01:00">
                Published: Wed 04 January 2017
        </abbr>

<p>tags: <a href="/tag/tutorial.html">tutorial</a> </p>
</footer><!-- /.post-info -->                <p>Back at the start of 2016 I set about sorting my personal finances out,
inspired by <a href="https://www.amazon.co.uk/d/Books/Soft-Skills-software-developers-manual/1617292397">Soft
Skills</a>.
The book makes a point to consider passive income as a viable solution
to wealth building. The reason for this is simple, software developers
tend to get paid well if working professionally …</p>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="social">
                        <ul>
                            <li><a href="/feeds/posts/default.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://twitter.com/ShaunFinglas">Twitter</a></li>
                            <li><a href="https://github.com/Finglas">Github</a></li>
                            <li><a href="https://www.linkedin.com/in/shaunfinglas/">LinkedIn</a></li>
                            <li><a href="https://stackoverflow.com/users/102482/finglas">StackOverflow</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <p>Proudly powered by <a href="http://getpelican.com/">Pelican</a>. Theme based on <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>.</p>
                <p id="disclaimer">Disclaimer: The posts on this site are my own and don't necessarily represent my employers positions, strategies, or opinions.</p>
                <p>Copyright &copy; Shaun Finglas 2017</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-68423049-2', 'auto');
    ga('send', 'pageview');
    </script>
</body>
</html>