<!DOCTYPE html>
<html lang="en">
<head>
          <title>Shaun Finglas</title>
        <meta charset="utf-8" />
        <link href="https://blog.shaunfinglas.co.uk/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Shaun Finglas Full Atom Feed" />
        <link href="https://blog.shaunfinglas.co.uk/feeds/2016.atom.xml" type="application/atom+xml" rel="alternate" title="Shaun Finglas Categories Atom Feed" />


    <meta name="tags" content="retro" />

        <link rel="stylesheet" href="https://blog.shaunfinglas.co.uk/theme/css/main.css" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://blog.shaunfinglas.co.uk/">Shaun Finglas <strong>- Programming</strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu">
          <ul>
            <li><a href="https://blog.shaunfinglas.co.uk/pages/about.html">About</a></li>
            <li><a href="https://blog.shaunfinglas.co.uk/pages/series.html">Series</a></li>
            <li><a href="https://blog.shaunfinglas.co.uk/archives.html">Archives</a></li>
          </ul>
        </nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="https://blog.shaunfinglas.co.uk/2016/02/sproc-vs-orm-vs-inline-vs-polyglot.html" rel="bookmark"
         title="Permalink to Sproc vs ORM vs Inline vs Polyglot">Sproc vs ORM vs Inline vs Polyglot</a></h2>
 
  </header>
  <div class="entry-content">
    <p>With relational databases the common data access patterns tend to fall
into three core options.</p>
<ul>
<li>Direct access via inline SQL</li>
<li>Stored procedures using the standard library</li>
<li>ORM frameworks or libraries</li>
</ul>
<p>Individually these have both pros and cons, often leading to heated
debate and discussion.</p>
<h4>Inline</h4>
<ul>
<li>Leaky abstractions.</li>
<li>Dangerous in places via SQL injection.</li>
<li>Quick and dirty solution.</li>
<li>Non testable by default.</li>
<li>Useful for integration testing where dynamic input is required and
    safe.</li>
</ul>
<h4>Stored Procedures (standard library)</h4>
<ul>
<li>Can be clunky and low level to use in places.</li>
<li>Non testable by default.</li>
<li>Allows the use of DB specific features internally.</li>
<li>Easy to tune and optimize as long as interface is stable.</li>
<li>Developers can optimise the execution of queries.</li>
</ul>
<h4>ORMs</h4>
<ul>
<li>Testable by default.</li>
<li>Complex, large and difficult to use correctly.</li>
<li>Leaky abstractions.</li>
<li>Optimisation is harder, especially for DB engineers.</li>
<li>Mini or lightweight alternatives exist, with less of the downsides.</li>
</ul>
<h4>Polyglot Persistence</h4>
<p>The actual decision of which data access method to use can be a non
issue providing a good abstraction is used. Whether you use inline SQL,
stored procedures or full blown ORMs is beside the point. <a href="https://blog.shaunfinglas.co.uk/2015/01/abstract-data-use-not-data-access.html">Instead of
abstracting the implementation detail, focus on the role the object or
function has to
play</a>.
A benefit of this approach is the ability to mix and match data access
patterns. Polyglot persistence is gaining more traction where alternate
data storage solutions are more appropriate.</p>
<h4>N+1</h4>
<p>One common flaw that all these data access patterns can have is the <a href="https://blog.shaunfinglas.co.uk/2016/02/the-n1-problem.html">N+1
problem</a>.</p>
  </div><!-- /.entry-content -->
  <footer class="post-info">
    <time class="published" datetime="2016-02-01T00:00:00+01:00">
      Mon 01 February 2016
    </time>
    <address class="vcard author">
      By Shaun Finglas
    </address>
  </footer><!-- /.post-info -->
</section>
        <footer id="contentinfo" class="body">
                <p>Disclaimer: The posts on this site are my own and don't necessarily represent my employers positions, strategies, or opinions.</p>
                <p>Copyright Â© Shaun Finglas 2019</p><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>